# Simple Vitals Calculator

An application which categorizes people based on the vitals (height and weight). It computes the health risk and category under which the people fall based n BMI(Body Mass Index).

People fall into category/health risk based on the bmi computed by height and weight vitals.

#### Below table shows the category and health risk based on BMI value

| BMI Range      |      Category       |       Health Risk |
| :------------- | :-----------------: | ----------------: |
| 18.4 and below |     Underweight     | Malnutrition risk |
| 18.5 - 24.9    |    Normal weight    |          Low risk |
| 24.9 - 29.9    |     Overweight      |     Enhanced risk |
| 29.9 - 34.9    |  Moderately obese   |       Medium risk |
| 34.9 - 39.9    |   Severely obese    |         High risk |
| 34.9 and above | Very severely obese |    Very High risk |

This is a node application which runs with express, it loads the `one-million-input.json` file found in `src/resources` which contains one million sample vital data set that the app uses and serves the request through below mentioned endpoints. The data set is generated by a python script `data_set_creator.py`.

### Endpoints configured

There are two routes to the application

1. Route to show people vitals http://localhost:3000/peopleVitals/10
2. Route to show count of people classified as overweight along with the people vitals http:/localhost:3000/overweight/people/10

### Generating the data set

```bash
python3 data_set_creator.py
mv src/resources/one-million-input-1.json src/resources/one-million-input.json
```

### Running the application in local

1. Ensure you have `npm` installed.

Follow the instructions for your platform [here](https://github.com/npm/npm).

2. Install all dependencies:

```bash
npm install
```

3. To run jest tests

```bash
npm test
```

3. To start the express application

```bash
npm start
```

The server is now running at [localhost:3000](localhost:3000)

### Running the application as container

1. Ensure you have `docker` installed.

Follow the instructions for your platform [here](https://docs.docker.com/engine/install/).

2. Build the container

```bash
docker build -t ${user-name}/${application-name}:${version} .
# example
docker build -t shra012/simple-vitals-calculator:latest .
```

3. Run the container

```bash
docker run --name ${container-name} -p 8080:8080 -d ${user-name}/${application-name}:${version}
# example
docker run --name simple-vitals-calculator -p 8080:8080 -d shra012/simple-vitals-calculator:latest
```

### Observations

- Data set file path is hard coded in the `app.js`
